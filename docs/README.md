


# Block Array White Paper


!> **Warning** This is in progress, and may have breaking issues

:warning: Many features are to be added, with graphics being the last. Spelling errors are to be expected

---

**version 2.1.9**

Author: Sam Bacha *Founder*

ToDo:
Replace maths with LaTeX formating
Insert graphics 
Refine formating 
Check Spelling and Grammer
have editorial process completed
Flesh out industry scope (pharma, defense)
Insert in-line citations and import references 

## Introduction


Block Array Corporation 

www.blockarray.com


----------
Table of Contents 


1. Abstract
  1. Overview
2. Overview of the Supply Chain Industry
  1. Problems
  2. Use Cases
  3. Solutions
    1. Blockchain Network
    2. Industry Specific Applications
    3. Infrastructure 
3. Ecosystem
  1. Goals
  2. Design Considerations
4. Blockchain Specifications
  1. Requirements
  2. Unique Implementations
  3. ARY Token
  4. Performance Benchmarks
5. Applications
  1. Trucking
  2. Logistics
  3. Data Analytics
  4. Insurance
  5. Retail
6. Roadmap
7. Corporate Information
  1. Overview
  2. Commercialization 
8. References 
9. Appendix



----------
>
>
>
>
>
>
>this section left intentionally blank 
>
>
>
>
>
>
>
----------


[![](https://img.shields.io/badge/whitepaper-v2.1.9-lightgrey.svg)](https://github.com/blockarraygroup/blockarraygroup)


[![](https://img.shields.io/badge/telegram-group-blue.svg)](https://t.me/Block_Array)

[![](https://img.shields.io/badge/twitter-%40blockarraygroup-blue.svg)](https://twitter.com/@blockarraygroup)

[![](https://img.shields.io/badge/e--mail-contact%40blockarray.com-brightgreen.svg)](mailto:contact@blockarray.com)




----------


# Abstract


----------


# Overview

Global operations need consistent global standards to be applied across their supply chain, and this is only going to become increasingly difficult with legacy enterprise systems and increased legal costs. Laws recently passed like The California Transparency Supply Chain Act or the Electronic Logging Data Mandate for Trucking add additional burdens to businesses trying to comply with the law, coupled with more demands on increasingly outdated IT systems - this then creates multiple problems for firms. 

This document is broken up into  # main sections.

1. Logistics and Supply Chain Industry Overview
2. Areas of Improvement 
3. Our Ecosystem
4. Implementation of our Ecosystem
5. Corporate Overview

# Logistics & Supply Chain Managment

We can divde the logistics industry into three (3) segments: Land, Air and Sea.

Of these market segments, land (overland freight) compromises the largest share, with Trucking being the largest segment of overland freight.

> Supply Chain Managment main goal is: **Demand Forecasting**



## Freight Industry

### Trucking 

> **Revenue**
`$738.9 billion in gross freight revenues` (primary shipments only) from trucking, representing 81.5% of the nation’s freight bill in 2016.

> **Tonnage**
`$10.55 billion tons of freight (primary shipments only)` transported by trucks in 2016, representing 70.9% of total domestic tonnage shipped.


> **Number of Companies**
According to the U.S. Department of Transportation, as of June 2017, the number of for-hire carriers on file with the Federal Motor Carrier Safety Administration totaled *777,240*.

> `91% operate 6 or fewer trucks.`
`97.3% operate fewer than 20 trucks.`


#### Advances in Trucking Operations

While many have touted the arrival of autnomous driving vehicles, drones, and even electric tractors, most advances in trucking have been in *how* the distribution of goods happens in the supply chain. Cross Docking operations have given certain companies a competitive advantage when it comes to their operations, so much so that they have been able to drive sucess from it.

*Distributor Cross Docking*: This is where a distributor consolidates inbound products from various vendors into a mulit-SKU pallet, which is delivered as soon as the last product is received. Computer distributors often source components and consolidate them into one shipment in merge-in-transit centers before delivering them to the customer, and rarely have the same vendor for all the products. Think of a Desktop tower, a monitor, a keyboard, and mouse that are combined into one package at a cross-dock for delivery to the customer as a single package. 

*Retail cross-docking*: This involves the consolidation of shipments from different shippers and vendors to be sorted onto outbound trucks for different stores. WalMart pioneered this system in the 1980s to gain a competitive advantage against competitors such as Sears or Kmart.


#### Electronic Logging Device Mandate

The Electronic Logging Device Mandate (ELD) is intended to help create a safer work environment for drivers, and make it easier and faster to accurately track, manage, and share records of duty status (RODS) data (FMCSA 2018). An ELD synchronizes with a vehicle engine to automatically record driving time, for easier, more accurate hours of service (HOS) recording.


  The ELD Mandate Includes provisions to help prevent data tampering and harassment of drivers.

What is the impact of this new law?


!> Under Federal regulations, the motor carrier is responsible for training and monitoring its drivers to ensure compliance with Hours of Service rules.  Any driver violation may also be held against the carrier. Failing to establish an effective Hours of Service monitoring and compliance system can result in fines of thousands of dollars.  In extreme cases, motor carrier officials have even received jail sentences.

So any violation in failing to comply with this new law could mean 


Four Driver Status Modes
The choices of duty status when a property-carrying driver records his or her time on a record of duty status, or R.O.D.S

>  `off duty | sleeper berth | driving | on duty/not driving`



| Hours of Service Rules       |
| ---------------------------- |
| 10 hours off-duty            |
| 14-hour duty period          |
| 11 hours driving             |
| 30 minute break              |
| 60 hours/7-day on-duty limit |
| 70 hours/8-day on-duty limit |


Add to these rules are the burdensome additional regulations such as when


+ Once the duty period starts, it runs for 14 consecutive hours after which the driver may not drive a CMV again until having another 10 or more consecutive hours off-duty. Nothing stops the running of the 14 hour clock.
+ During the 14-hour duty period, which some people refer to as a “driving window,” you may drive a maximum of 11 hours.
+ When you reach a total of 60 on-duty hours in 7 days, you must have a period of at least 34 consecutive hours off duty. (There is an alternative available for carriers that operate every day of the week-- that is a maximum of 70 hours in 8 days.)
+ Requires an off-duty break at some point during the duty period. The rule says that you may not drive a CMV if it has been 8 or more hours since your last off-duty period of at least 30 minutes.
+ For every 5 duty periods that they return to their starting point, they may choose one 16-hour duty period.
+ The counting of the maximum 60 or 70 hours on duty restarts anytime a driver has at least 34 consecutive hours off duty.


[airtable-embed](https://airtable.com/embed/shrAK5qn8v7XOt5fq?backgroundColor=blue&viewControls=on ':include :type=iframe width=100% height=533x')





----------


# Ecosystem

Our ecosystem includes a variety of solutions aimed at leveraging existing technologies and market fit. 


- Both Blockchain and Traditional Solutions
- Web and Mobile
- B2B and B2C Solutions 
- Analytics and Intelligence Toolset


Our Ecosystem strives to cover these core competencies

+ Compliance and Accountability
+ Document Authentication and Management
+ Data Forecasting, Insights and Analytics

FreightRelay: 
ChainProof: API for Inter-Blockchain Connectivity
Driver & Vehicle Passports
SmartQR: Barcodes (1D/2D)

Our approach has been to offer clear use cases for blockchain applications. These are qualified by the following parameters

Strong case for Data Ownership
Trust-less Record Keeping
Removal of “middlemen” 

Therefore our product listings are:
Passports for Drivers, Vehicles and Assets
Documents & Records: Bills of Lading, Industry Specific Documents, Legally Mandated Records
Barcodes -  


## Passports - Driver, Vehicle and Asset

Driver records are a great use case.

[airtable-embed](https://airtable.com/embed/shrCzCmWXhYaIs4oX?backgroundColor=blue&layout=card&viewControls=on ':include :type=iframe width=100% height=533x')

| Identifying Information for Supporting Documents                                                                                                                                                                                          |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Driver name or carrier-assigned identification number, either on the document or on another document enabling the carrier to link the document to the driver. The vehicle unit number can also be used if it can be linked to the driver; |
| Date                                                                                                                                                                                                                                      |
| Location (including name of nearest city, town, or village)                                                                                                                                                                               |
| Time                                                                                                                                                                                                                                      |

*These must be listed on the supporting documents in order to be eligible for use.*

### Supporting Documents 

[airtable-embed](https://airtable.com/embed/shrmxXAV1idTUZ1xE?backgroundColor=blue&layout=card&viewControls=on ':include :type=iframe width=100% height=533x')


Documents that must be retained by law                                                              |
| -------------------------------------------------------------------------------------------------------------------------- |
| Bills of lading, itineraries, schedules, or equivalent documents that show the starting and ending location for each trip; |
| Dispatch records, trip records, or equivalent documents;                                                                   |
| Expense receipts related to “on-duty/not driving” periods (meals, lodging, fuel, etc.);                                    |
| Fleet management system communication records;                                                                             |
| Payroll records, settlement sheets, or equivalent documents showing payment to a driver.                                   |


What happens if a log was anchored incorrectly? 
The ELD regulation provides for this, as both the original and edited versions must be retained. Any edits to the log, either by the motor carrier or driver must be annotated as to the reason for the edit. On the Driver Passport page, both records are accessible. 


https://airtable.com/shrCzCmWXhYaIs4oX


## EPCIS

EPCIS – Electronic Product Code Information Service It is an international standard adopted by GS1 in September 2016 to Identify, Capture and Share Information using barcodes/etc. It enables disparate applications to leverage Electronic Product Code (EPC) data by sharing that data. The EPC data is shared within and across enterprise boundaries. Sharing this data enables all participants within an EPCIS compliant ecosystem to gain visibility into the status of all EPC “marked” digital or physical items (also known as EPCIS “objects”) within a given business context. Simply put, EPCIS provides a framework that allows trading partners to know the status of a given trade item or conveyance. 

> GS1 is a non-profit org. that manages standards for the supply chain industry, including barcodes.

EPCIS events affect the status of a trade item or conveyance by changing or setting the object’s disposition (its current state, such as sold, expired, recalled, in transit, or active). “EPCIS is a standard which provides the means to Identify real-world entities so that they may be the subject of electronic information that is stored and/or communicated by end users/clients. GS1 identification standards include standards that define unique identification codes (called GS1 Identification Keys), such as the Global Trade Item Number.” [GS1] 

*GS1 data capture standards include definitions of bar code and radio-frequency identification (RFID).*

It also provides the means to share information, both between trading partners and internally, providing the foundation for electronic business transactions, electronic visibility of the physical or digital world, and other information applications. GS1 standards for information sharing include this EPCIS Standard which is a standard for visibility event data. Other standards in the “Share” group are standards for master data and for business transaction data, as well as discovery standards that help locate where relevant data resides across a supply chain and trust standards that help establish the conditions for sharing data with adequate security.

**Description of EPCIS Event Data**
EPCIS is structured in a way to define business processes as individual business steps. Information of a single EPCIS event data is organized into four different dimensions:


- **What** The identifiers of the object(s) or other entities that are the subject of the event 
- **When** The date and time when the event took place, and the local time zone in effect 
- **Where** The identifier of the location at which the event occurred, and identifier of the location where the object(s) are expected to be following the event 
-  **Why** Information about the business context, including: a identifier that indicates the business step taking place (e.g., shipping, receiving, etc.), an identifier that indicates the business state of the object(s) following the event (e.g., active, recalled, damaged, etc.), identifiers of the shipping and receiving parties (if the event is part of a process of transfer between parties), links to relevant business transaction documents (e.g., a purchase order, an invoice, etc.), instance- or lot-level master data, and/or other information defined via user extensions. 

The EPCIS data model calls for an identifier, EPCIS allows any URI/URL to be used to store additional data. We use this model because of interoperability with barcodes across the globe.

**Why EPCIS is important**
EPCIS Event Data The Core Business Vocabulary (CBV) is a GS1 Standard that defines specific data values to populate the EPCIS data model. This ensures that all parties who exchange EPCIS data have a common and consistent understanding of the semantic meaning of that information. [GS1] By documenting supply chain events, EPCIS data complements other types of data exchange in the supply chain, such as business transaction data (exchanged with GS1 eCom) and master data (exchanged with GS1 Global Data Synchronization Network or GDSN).


> EPCIS provides visibility on a “need-to-know” basis for goods.

A company implementing EPCIS can use the authenticated identity of a trading partner in conjunction with pre-defined business rules (smart contracts/chaincode) to determine which information is made available to that partner. 


| Business Applications that utilize EPCIS event data |
| --------------------------------------------------- |
| Product Authentication                              |
| Pharmaceutical Pedigree                             |
| Product and food traceability                       |
| Inventory Management                                |
| Shipment Tracking                                   |
| Electronic Article Surveillance (EAS)               |
| Promotion Tracking                                  |

## Object Naming Service 

In order to use DNS to find information about an item, the item’s GS1 Identification Key must be converted into a format that DNS can understand, which is the typical, “dot” delimited, left-to-right form of all domain names. As the purpose of ONS is to discover data and services associated with a GS1 Identification Key and multiple sets of data and services may exist for that key, the appropriate DNS record type is the Naming Authority PoinTeR (NAPTR) [RFC 3403]. This record type contains several fields for denoting the protocol, services, and features that a given service endpoint exposes. It also allows the service endpoint to be expressed as a URI, thus allowing complex services to be encoded in a standard way. 

The figure below describes a typical ONS query from start to finish from the viewpoint of an application. In this example, the starting point is a bar code or RFID tag. However, the source of the GS1 IdentificationKey is not restricted to data carriers; it could be part of a transaction document (e.g. a purchase order), an event record, a master data record, or any other source.

%% insert img %%

## Shipping Documents

%primer on shipping documents

+ Bill of Lading
+ Letter of Credit
+ Certificate of Origin
+ Insurance Certificate
+ Packing List
+ Material Safety Datasheet

> Cosignee: Person/Business the shipment is intended for

Bill of lading (BOL) is one of the most important documents in the shipping process. To ship any goods, a **bill of lading is required and acts as a receipt and a contract**. A completed BOL legally shows that the carrier has received the freight as described and is obligated to deliver that freight in good condition to the consignee.


## Bill of Lading

A Bill of Lading is a legal document issued by the Carrier or agent of the Carrier. They are the legal title to the cargo. It has three main attributes:  

Document of Title to the goods: possession of the Bill of Lading is equal to having title in the referenced goods. 
Receipt - Evidence that the Carrier has received the goods of a certain quality etc in compliance with the Commercial Contract between the parties
Contract of Carriage - Evidence of the Contract of Carriage (CoC) - that the carrier will transport the goods in compliance with the Commercial Contract.

### Problems with the current system

Theft - BoL is a bearer document of title. This bears a particular risk that anyone who has possession of the BoL has a prima facie claim to the goods. Because possession equals ownership this creates an incentive for BoL theft. 

**Fraud** - Manipulation/alteration of BoL to hide accountability due to shipment damage or other issues.
Inefficiency - BoL are issued as three original physical documents. One document is managed by the banks involved in trade finance. One document is couriered to the recipient of the goods. And one document is retained by the Carrier. 

**Physicality** - Delay in distNribution of the BoLs. Due to the originals only existing in a physical form, this means that the Carrier has to courier one of the originals to the Consignee. This leads to a situation where the goods have arrived at a Discharge port but that the Consignee has not received their BoL. 

**Amendments** - Making amendments to a BoL can be complicated. All three BoLs have to be sent to the Carrier who destroys them, then issues a new set of BoLs with the intended amendments. 


%% INSERT BILL OF LADING GS1 SAMPLE IMAGE %% 

## Visual SmartContracts - Document Mgmt

The modern logistics pipeline has many moving pieces with paperwork for each leg of the journey. 

+ Signatures
+ Imaging
+ Invoice
+ Indexing
+ Proposals
+ Certificates
+ Manifests 

For "legacy" paper documents, we can digitze and deliver them to all parties

easily collect data, populate a document and send it to any contact automatically

Permissions
Policy
Events 

#### Connected Documents 

Scanning of the document 


User Permission -> User Action -> User Event 

### Enterprise Smart Contracts
Inorder to design and implement enterprise-quality smart contracts, we need to define exactly what an enterprise smart contract is. We shall decompose this concept into its major components below:

**Components**

+ Schema: the data elements required for the execution and fulfillment of contract obligations between counterparties and the cryptographic proofs needed to maintain the integrity and trust in the contract for the participating counterparties and any regulatory or oversight entities. 

+ Counterparties – authenticated identity that can utilize the same cryptographic primitives as blockchains like digital signatures, of participants (people, organizations and things) agreeing to the terms and execution of the contract. Counterparties are represented as personas in the logic of a contract that are assigned identity as the contract goes through its binding process.

+ External Sources – contracts that require external interaction, input of data or notification in order to fulfill the execution requirements of the contract. These external sources and conditions for interaction are agreed to by the counterparties and the regulatory oversight entities and must provide cryptographic proofs in order to trust and maintain the integrity these external sources. 

+ Ledger – the immutable instance on a distributed ledger (blockchain) based on the schema that is used to record all contract activities and proofs required. This is can be either the public version of a “distributed trustless truth database” or a “shared, permissioned, semi-trusted, discretionarily private, truth database”. 

+Contract Binding - A Enterprise Smart Contract Binding is the composition of these parts creating a unique instance of an Enterprise Smart Contract. It is created when a contract begins negotiation between counterparties and becomes versioned and locked when each counterparty signs the contract. Once signed and locked the Enterprise Smart Contract begins the execution of the terms and conditions that lead to fulfillment.

In order to develop Enterprise quality smart contracts standards need to be put in place. 
+ Universal Business Langauge 
+ Industry Agreed-upon Standards and Verbiage 
+ Data Attestation for data being provided
+ Discrete Privacy Levels

We can categorize  smart contracts into two distinct featuresets 
> **Notification** and **Executing**

#### Parametric Smart Contracts

As discussed in the previous section, there are two basic types of smart contracts: Notifying and Executing. These both fall into a category we call **Parametric** smart contracts.



## ChainProof - 

For example, if a screwdriver manufacturer creates a new screwdriver, they could tokenize the screwdriver and record it using the digital signature of the manufacturer establishing provenance. 
Then, once sold and shipped to a distributor, a transaction transfers ownership of the tokenized screwdriver to the distributor (public key). This transfer of ownership is confirmed by signing the transaction with the same digital signature of the manufacturer. 
The distributor can repeat the same exercise using their keys when selling the asset in the future, documenting the lineage of that screwdriver as it navigates the supply chain.

erc721
Tokenization and signing with public/private key pairs in the blockchain world establishes provenance, documenting the moment a thing is recorded.
Public key can be used to support buying, selling, trading, insuring and tracking of things across organizations thus creating a full audit trail of the tokenized object itself, or lineage.

Tokens can and usually are bundled together in a collection. The collection can also be tokenized creating a composite token of all the tokens contained within. 
For example, if every phone part were to be tokenized and assembled into a phone, the phone itself could be represented with a token made from its parts.



----------


# Blockchain Specifications 

Designing both a performant and scalable blockchain requires drawing on various disciplnes, from computer science to business administration. Creating a network that enhances the benefits of using a blockchain is typically focused on various criteria involving benchmarking. Performance has been shown not to be a barrier for adoption by businesses, but rather the lack of applications, adherance to industry standards, and consideration of business-wide impact of certain activies (i.e. accounting implications that arise from the use of cryptocurrencies). 


> “Differences in performance between chains are usually almost entirely due to differences in the protocols and the implementations, not the consensus algorithm”
> Go Ethereum p.g. 8


## Requirements 

Our requirements list:


- Adoption of Industry Standards/Compliance with Standards 
  - PCI DSS, FIPS, ISO Standards
- Easy Key Management 
- Ability for 100% Privacy
- Ability for determinism in state (no hard-forking)
- Ability to withstand off-chain attack vectors, e.g:
  - Bribery
  - Cartel Forming
- Ability to withstand on-chain attack vectors, e.g:
  - 51% Attack
  - Refusal to Participate
  - Sybil Attack
- Reduce the use of cryptocurrency to a bare minimum 
- Adherence to Strict Data Retention and Privacy policies (e.g. GDPR)
- Multiple Security Audits by outside Firms
- Contract outside Security Firms at the designing and conception phase of products
- Rigorous pilot study with large enough sample size 
- Multiple testing phases with different user base
- Create a Blockchain Network Management Plan that documents design, development, distribution, deployment, maintenance, and end-of-life procedures for any network service

<paragraph >


## Model


- Assets - Asset definitions enable the exchange of almost anything with monetary value over the network, from whole foods to antique cars to currency futures.
- Chaincode - Chaincode execution is partitioned from transaction ordering, limiting the required levels of trust and verification across node types, and optimizing network scalability and performance.
- Ledger Features - The immutable, shared ledger encodes the entire transaction history for each channel, and includes SQL-like query capability for efficient auditing and dispute resolution.
- Privacy through Channels - Channels enable multi-lateral transactions with the high degrees of privacy and confidentiality required by competing businesses and regulated industries that exchange assets on a common network.
- Security & Membership Services - Permissioned membership provides a trusted blockchain network, where participants know that all transactions can be detected and traced by authorized regulators and auditors.
- Consensus -a Byzantine Fault Tolerant (BFT) consensus protocol, PBFT or RBFT.


## Design Considerations: Creating a High-Performance Blockchain

Conducting a industry-wide search of the literature on creating a performant blockchain network has yeiled several specifications on acheiving a **high performing**, **scalable**, **secure**, and **robust** blockchain network.


Integrate oft-used Applications 
most frequently used smart contracts should be supported natively by the blockchain, leaving only the rarely-used custom contracts to run in a virtual machine. 

Avoid Hashes, Assign IDs Instead


**Transaction Size**

Transaction Size (bytes) X Transactions Processed (seconds)
becomes clear that transaction size directly impacts the block interval, and therefore the confirmation latency.


## Implementation 

Differences between standard Hyperledger Fabric Deployment 

Gossip Protocol
Consensus Protocol 
State Database
Data Storage
Account Identifiers 

paragraph 



### Snow White


### RBFT 
As described in their paper, existing BFT protocols use a special replica, called the "primary", which indicates to other replicas the order in which requests should be processed. This primary can be smartly malicious and degrade the performance of the system without being detected by correct replicas. Our evaluation shows that RBFT achieves similar performance as the most robust protocols when there is no failure and that, under faults, its maximum performance degradation is about 3%, whereas it is, at least, equal to 78% for existing protocols."

RBFT implements a new approach whereby multiple instances of the protocol run simultaneously, a Master instance, and one or more Backup instances. All the instances order the requests, but only the requests ordered by the Master instance are actually executed. All nodes monitor the Master and compare its performance with that of the Backup instances. If the Master does not perform acceptably, it is considered malicious and replaced.



### Gossip Protocol: 

RAET: Reliable Asynchronous Event Transport Protocol, a high-performance, fault-tolerant communications protocol on top of UDP. RAET leverages Curve25519, a highly-secure high-performance elliptic curve.

RAET is designed to provide secure reliable scalable asynchronous message/event transport over the internet in a micro-threaded multi-process application framework that uses UDP for interhost communication and LibSodium for authentication, encryption and the CurveCP handshake for secure bootstrap.

The queue management and micro-threaded application support is provided by Ioflo. RAET is a complementary project to Ioflo in that RAET enables multiple Ioflo applications to work together over a network as part of a distributed application.


Instead of using Message Authentication Codes, every communication is digitally signed using Curve25519.
While MAC authenticators are computationally less expensive to verify than digital signatures, we feel that given the foreseeable protocol applications today, the security trade-offs of using MACs would be too high.

> For more Information visit the [RAET Github](https://github.com/saltstack/raet)

### State Database
CouchDB additionally enables rich query against the smart contract data, when chaincode values (e.g. assets) are modeled as JSON data.

you can also perform complex rich queries against the chaincode data values, using the CouchDB JSON query language within chaincode. These types of queries are excellent for understanding what is on the ledger. 

### Account Identifiers 

`1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa` - A Bitcoin Address

	Traditional blockchain designs use cryptographic hashes to generate globally unique IDs that are statistically guaranteed to never have a collision. 
The problem with these hashes is that they require significantly more memory and more CPU cycles to manipulate. It takes significantly more CPU time to look up an account record by hash than with a direct array index. 
For example, 64 bit integers are easier to compare and manipulate than 160+bit IDs. Larger hash IDs means there is less room in the CPU cache and that more memory is required. On modern operating systems, infrequently accessed RAM is compressed, but hash identifiers are random data that is not compressible.

We propose the implementation of a Globally Unique Identifier (GUID) for use in account identification. Various implementations have been studied such as **IBAN** or International Bank Account Number.  Requirements for such an address scheme must:

+ Serialized
+ Standardized 
+ Efficient 



### Endorsement Policies

### Masternodes
paragraph 


1. Primary
2. Secondary
3. Heartbeat

#### Primary

Primary nodes provide specific services:

- Membership Service Provider
- Validating Peers

These are to ensure server uptime 

#### Secondary

Data Layer nodes
Non-Validating Peers
These are to ensure the public layer channel redundancy. 


> Think of Primary as “Miners” and Secondary as “Full Nodes” - they keep a record of the entire chain but do not commit blocks to the chain

$$\sigma = \alpha * 1.37$$
where $$\sigma$$ is the amount of Secondary and $$\alpha$$ is the amount of Primary nodes and $$1.37$$ is a fixed constant determined by us

#### Heartbeat 

Heartbeat nodes are specific network participants for the gossip protocol. They are responsible for the ordering of transactions.

**Dynamic leader election**
Dynamic leader election enables organization peers to elect one peer which will connect to the ordering service and pull out new blocks. Leader is elected for set of peers for each organization independently.
Elected leader is responsible to send the heartbeat messages to the rest of the peers as an evidence of liveness. If one or more peers won’t get heartbeats updates during period of time, they will initiate a new round of leader election procedure, eventually selecting a new leader. In case of a network partition in the worst case there will be more than one active leader for organization thus to guarantee resiliency and availability allowing the organization’s peers to continue making progress. After the network partition is healed one of the leaders will relinquish its leadership, therefore in steady state and in no presence of network partitions for each organization there will be only one active leader connecting to the ordering service.
Following configuration controls frequency of the leader heartbeat messages:

    peer:
      gossip:
            election: leaderAliveThreshold: 10s



## ARY Token
  

The Block Array Token, "ARY" is an Ethereum standard compliant "ERC-20" blockchain asset. The asset is our implementation of a software license that is used in a variety of ways for the end customer. The ARY token can be thought of as an access card, granting the end user the ability to interact with various applications and infrastructure. The ARY token enables the user rights of access depending on the amount of tokens they have in their possession. Along with access rights they are granted an allotment of network resources based on the amount of ARY held.
*** insert equation here ***
ARY is not a currency nor a virtual asset ment to be used for the payments of goods and services.
This design choice was made because of the following factors

[ ] Ease of Use
[ ] Lower Wallet Requirements
[ ] Little Accounting/GAAP considerations
[ ] Less Accounting Headache


The amount of ARY tokens is preliminary and has not been finalized yet

| Tier      | # of ARY Tokens |
| --------- | --------------- |
| Primary   | 40,000          |
| Secondary | 22,500          |
| Heartbeat | 7,500           |

### Token Implementation 

In order to establish a token to distribute the network a **Token Generation Event** is required. The token *must* have a value in order for it to be useful in safeguarding the network and for creating the incentives for individuals to participate in hosting the network.

ARY, the Ethereum Token we have created is based on a standard that has been accpeted by the community through an EIP (Ethereum Improvement Proposal) called `ERC-20`

> to read the full standards reference visit the [ethereum github](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md)

Symbol: ARY
Decimals: 18
Address: 0xa5F8fC0921880Cb7342368BD128eb8050442B1a1



#### Token Use Case: Maximizing Token Value

There are three (3) main token economic models:

Payment Token
Service Token
2-Way Token (Burn-and-Mint Equilibrium)

In a monetary base, valuation is obtained through the *equation of exchange* which is defined as `MV=PQ` where `V` is *velocity*.

![](https://www.dropbox.com/s/ls37aojppwmtpcl/mv_pq.svg?dl=0)

In designing a token model in which *value* increases with *network usage* we can claim that as *v* increases *Price,p* accelerates in the downward slope (i.e. negative price pressure)

A Service Token is one in which a user "stakes" or "bonds" the token of the network in order to provide *services* to the network, such as file storage (Storj, Filecoin), computation power (Golem), or -etc-. 

So, as demand for the service grows and a fixed supply (*ceterus paribus*) the price per token will increase as more users wish to provide services. This can be modeled by NPV;

> **Net Present Value**

![](https://www.dropbox.com/s/xthkwwbb6rvm6j8/net_present.svg?dl=0)

Calculating Terminal Value as
[![](https://www.dropbox.com/s/ii8e3dgbpzul0wz/terminal_value.png?dl=0)]


assuming a discount rate of *40%* and an operating margin of 25% we can derive a potential value as:

{ valuation formula }

**Currency Tokens** trend towards a **fractional value of transaction volume**

**Service Tokens** trend towards a **multiple of operating cash flow**

> *Note* while this model holds true for pure service commodities, an argument can be made that it is applicable in drawing a close approximation in our use case as *service providers* provide the service of network security and uptime (i.e. they host part of the network)


#### Establishing an Econometric Model

%% GRAPH %%

#### Keeping the ERC-20 Token 

**The ERC-20 Token is the asset used**, in other words *there is no "conversion" to another digital asset needed* under our system

` R = [X / square root(Z)] `
` R = Resources (transactions, queries, etc) available per 24h period `
` X = Tokens Staked by User `
` Z = Resource Modifier defined by Price Function of ARY Token `


*Figure 1*
| Resources | # of ARY Tokens |
| --------- | --------------- |
| 500       | 5,000           |
| 100.      | 1,000           |
| 50.       | 500.            |


> The variable 'Z' Price Function will be finalized upon the completion of market research and communtiy input, and is not a perment constant 

#### Calculating Node Reputation 

Developing a benchmark to calculate malicous nodes 

**Eigenvector Centraility**
` equation1 here `

**Max-Flow Analysis**
` Equation2 here `

Node Reputation 
` function of Equation1+2 here `

#### Mitigating Attack Vectors

By distributing the network among individuals who have our ARY token, they reduce the chance of businesses being able to form a cartel for the purpose of disrupting the network. 

![Distribution of the Network among all Participants](https://www.dropbox.com/s/zbbacvd6r9w84bo/Screenshot%202018-04-23%2013.39.51.png?raw=1)



token as network incentive 

The following digram illustrates how the ARY Blockchain distributes rewards by using the Ethereum Blockchain (therby the ERC-20 token).




![](https://www.dropbox.com/s/m92bfzsfew7i8ei/Screenshot%202018-04-23%2013.41.30.png?raw=1)





Requirements

  1. Unique Implementations
  2. ARY Token
  3. Performance Benchmarks



### Octopus 

`struct block_header
{
digest_type digest()const;
block_id_type previous;
uint32_t block_num()const { return num_from_id(previous) +
˓→1; }
fc::time_point_sec timestamp;
witness_id_type witness;
checksum_type transaction_merkle_root;
extensions_type extensions;
static uint32_t num_from_id(const block_id_type& id);
};`

----------

# References

FMCSA 
https://www.fmcsa.dot.gov/hours-service/elds/electronic-logging-devices

D.O.T 
https://www.gpo.gov/fdsys/pkg/FR-2015-12-16/pdf/2015-31336.pdf

BitShares - Blockchain Scalability
https://bitshares.org/technology/industrial-performance-and-scalability/

RBFT: Redundant Byzantine Fault Tolerance
https://pakupaku.me/plaublin/rbft/5000a297.pdf

___

# Document & Development Styling Guide

This document was prepared in [**Sublime 3**](https://www.sublimetext.com/)

We follow the [**Semantic Versioning**](https://semver.org/) specification for version numbering.
$$ \alpha $$

This document uses the following Markdown Specifications 
<b>Common Mark</b>

Finally, the site was generated using [**docsify**](https://docsify.js.org/#/)

(C) 2018 **Block Array Corporation** | *All Rights Reserved*



